name: Sync To Gitee

on:
# 如果需要PR触发把push前的#去掉
 #push:
 schedule:
    # 每天北京时间8.20点跑
    - cron:  '20 0 * * *'
      # 每天北京时间17.20点跑
    - cron:  '20 9 * * *'
    
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Show current time (for debugging)
        run: |
          echo "Local time (runner's timezone): $(date)"
          echo "UTC time: $(date -u)"
          echo "Timezone info:"
          timedatectl status || echo "timedatectl not available"

      - name: Sync to Gitee
        uses: wearerequired/git-mirror-action@master
        env:
          # 注意在 Settings->Secrets 配置 GITEE_RSA_PRIVATE_KEY
          SSH_PRIVATE_KEY: ${{ secrets.GITEE_RSA_PRIVATE_KEY }}
        with:
          # 注意替换为你的 GitHub 源仓库地址
          source-repo: git@github.com:MaaAssistantArknights/MaaResource.git
          # 注意替换为你的 Gitee 目标仓库地址
          destination-repo: git@gitee.com:keithchow/MaaResource.git
